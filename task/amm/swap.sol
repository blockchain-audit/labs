addIn = a0
amountIn = 5

tokenIn = a0
tokenOut = a1

reserveIn = 21
reserveOut = 42

amountInWithFee = (5 * 997) / 1000 = 4.985
amountOut = (42 * 4.985) / 21 + 4.985) = 8.057

reserve0 = 21 + 4.985 = 25.985
reserve1 = 42 - 8.057 = 33.943
